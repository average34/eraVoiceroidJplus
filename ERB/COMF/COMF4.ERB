@COM4
;フェラする

;前回と今回の調教者が同じ
IF (ASSIPLAY && TFLAG:50) || (ASSIPLAY == 0 && TFLAG:50 == 0)
	;縄使用中でなく、前回の調教がフェラチオかクンニ強制かシックスナインだとシックスナインに
	IF (PREVCOM == 31 || PREVCOM == 61 || PREVCOM == 69) && TEQUIP:44 == 0
		CALL COMABLE_69
		SIF RESULT == 1
			JUMP COM69
	ENDIF
ENDIF

PRINTL フェラする
STR:0 = フェラする
CALL TRAIN_MESSAGE_B

LOSEBASE:体力 += 5
LOSEBASE:気力 += 50

SOURCE:12 = 220
SOURCE:14 = 50

;ABL:Ｃ感覚をみる
IF ABL:Ｃ感覚 == 0
	SOURCE:0 = 800
ELSEIF ABL:Ｃ感覚 == 1
	SOURCE:0 = 1400
ELSEIF ABL:Ｃ感覚 == 2
	SOURCE:0 = 2000
ELSEIF ABL:Ｃ感覚 == 3
	SOURCE:0 = 2500
ELSEIF ABL:Ｃ感覚 == 4
	SOURCE:0 = 2900
ELSE
	SOURCE:0 = 2450 + (ABL:Ｃ感覚 * 150)
ENDIF

;調教者のTALENT:舌使いをみる
IF TALENT:PLAYER:52
	TIMES SOURCE:0 , 2.00
	SOURCE:16 += SOURCE:0/20
ENDIF

;奴隷のＰ⇔調教者の口の汚れが移動
STAIN:2 |= STAIN:PLAYER:0
STAIN:PLAYER:0 |= STAIN:2

IF TALENT:122 == 0 && TALENT:PLAYER:122 == 0
	PRINTS EXPNAME:40
	PRINTL +3
	EXP:レズ経験 += 3
	EXP:PLAYER:レズ経験 += 3
ELSEIF TALENT:122 == 1 && TALENT:PLAYER:122 == 1
	PRINTS EXPNAME:41
	PRINTL +3
	EXP:ＢＬ経験 += 3
	EXP:PLAYER:ＢＬ経験 += 3
ENDIF


;主導権をチェック
IF TFLAG:45 == 0
	;主導権が主人公側
	;ABL:従順をみる
	IF ABL:親密 <= 1
		SOURCE:21 += 300 + (ABL:親密 * 50)
	ELSEIF ABL:親密 <= 3
		SOURCE:21 += 600 + (ABL:親密 * 100)
	ELSEIF ABL:親密 <= 5
		SOURCE:21 += 800 + (ABL:親密 * 120)
	ELSEIF ABL:親密 <= 8
		SOURCE:21 += 1000 + (ABL:親密 * 140)
	ELSEIF ABL:親密 <= 11
		SOURCE:21 += 1200 + (ABL:親密 * 160)
	ELSE
		SOURCE:21 += 1500 + (ABL:親密 * 180)
	ENDIF
ELSE
	;主導権が相手側
	;ABL:サドっ気をみる
	IF ABL:サドっ気 == 0
		SOURCE:20 = 1500
	ELSEIF ABL:サドっ気 == 1
		SOURCE:20 = 2000
	ELSEIF ABL:サドっ気 == 2
		SOURCE:20 = 2500
	ELSEIF ABL:サドっ気 == 3
		SOURCE:20 = 3000
	ELSEIF ABL:サドっ気 == 4
		SOURCE:20 = 3500
	ELSE
		SOURCE:20 = 2000 + (ABL:サドっ気 * 400)
	ENDIF
ENDIF

;好感度ランダム変化
A = RAND:10 + 5
;合意がないと好感度が下がる
IF TALENT:152 == 0 && TFLAG:48 == 0
	A -= 8
	SOURCE:15 += 300
ENDIF
TFLAG:30 += A
TFLAG:37 += A / 2

RETURN 1

