@COM48
;拡張バルーン
PRINTL 拡張バルーン
STR:0 = 拡張バルーン

;-------------------------------------------------
;ソースの計算
;-------------------------------------------------
LOSEBASE:体力 += 150
LOSEBASE:気力 += 200

SOURCE:6 = 400
SOURCE:12 = 300
SOURCE:13 = 500
SOURCE:14 = 1000
SOURCE:16 = 200

;ABL:Ａ感覚をみる
IF ABL:Ａ感覚 == 0
	SOURCE:2 = 10
	SOURCE:3 = 10
	SOURCE:13 += 100
ELSEIF ABL:Ａ感覚 == 1
	SOURCE:2 = 30
	SOURCE:3 = 30
	SOURCE:13 += 500
ELSEIF ABL:Ａ感覚 == 2
	SOURCE:2 = 300
	SOURCE:3 = 100
	SOURCE:13 += 1000
ELSEIF ABL:Ａ感覚 == 3
	SOURCE:2 = 600
	SOURCE:3 = 200
	SOURCE:13 += 2000
ELSEIF ABL:Ａ感覚 == 4
	SOURCE:2 = 900
	SOURCE:3 = 450
	SOURCE:13 += 3000
ELSE
	SOURCE:2 = 450 + (ABL:Ａ感覚 * 150)
	SOURCE:3 = ABL:Ａ感覚 * 150
	SOURCE:13 += (ABL:Ａ感覚 * 1500) - 1500
ENDIF

;EXP:Ａ経験をみる
IF EXP:Ａ経験 < EXPLV:1
	TIMES SOURCE:2 , 0.10
	SOURCE:6 += 12000
ELSEIF EXP:Ａ経験 < EXPLV:2
	TIMES SOURCE:2 , 0.30
	SOURCE:6 += 6000
ELSEIF EXP:Ａ経験 < EXPLV:3
	TIMES SOURCE:2 , 0.50
	SOURCE:6 += 2000
ELSEIF EXP:Ａ経験 < EXPLV:4
	TIMES SOURCE:2 , 1.00
	SOURCE:6 += 1200
ELSEIF EXP:Ａ経験 < EXPLV:5
	TIMES SOURCE:2 , 1.40
	SOURCE:6 += 600
ELSE
	TIMES SOURCE:2 , 1.60
	SOURCE:6 += 200
ENDIF

;PALAM:潤滑をみる
IF PALAM:3 < PALAMLV:1
	TIMES SOURCE:2 , 0.40
	SOURCE:6 += 10000
ELSEIF PALAM:3 < PALAMLV:2
	TIMES SOURCE:2 , 0.80
	SOURCE:6 += 3600
ELSEIF PALAM:3 < PALAMLV:3
	TIMES SOURCE:2 , 1.00
	SOURCE:6 += 1200
ELSEIF PALAM:3 < PALAMLV:4
	TIMES SOURCE:2 , 1.40
	SOURCE:6 += 200
ELSEIF PALAM:3 >= PALAMLV:4
	TIMES SOURCE:2 , 1.80
	SOURCE:6 += 100
ENDIF

;PALAM:欲情をみる
IF PALAM:5 < PALAMLV:1
	TIMES SOURCE:2 , 0.60
	TIMES SOURCE:13 , 0.60
ELSEIF PALAM:5 < PALAMLV:2
	TIMES SOURCE:2 , 0.80
	TIMES SOURCE:13 , 0.80
ELSEIF PALAM:5 < PALAMLV:3
	TIMES SOURCE:2 , 1.00
	TIMES SOURCE:13 , 1.00
ELSEIF PALAM:5 < PALAMLV:4
	TIMES SOURCE:2 , 1.20
	TIMES SOURCE:13 , 1.20
ELSEIF PALAM:5 >= PALAMLV:4
	TIMES SOURCE:2 , 1.40
	TIMES SOURCE:13 , 1.40
ENDIF

;ABL:サドっ気をみる
IF ABL:PLAYER:サドっ気 == 0
	TIMES SOURCE:6 , 1.00
ELSEIF ABL:PLAYER:サドっ気 == 1
	TIMES SOURCE:6 , 1.05
ELSEIF ABL:PLAYER:サドっ気 == 2
	TIMES SOURCE:6 , 1.10
ELSEIF ABL:PLAYER:サドっ気 == 3
	TIMES SOURCE:6 , 1.20
ELSEIF ABL:PLAYER:サドっ気 == 4
	TIMES SOURCE:6 , 1.30
ELSE
	SOURCE:6 = SOURCE:6 * (ABL:PLAYER:サドっ気 * 5 + 125) / 100
ENDIF

;小柄体形
SIF TALENT:小柄体型
	TIMES SOURCE:6 , 2.00

;Ａ敏感、鈍感をみる
;快Ａ自体のチェックは後でまとめてやる
IF TALENT:Ａ鈍感
	TIMES SOURCE:6 , 1.50
	TIMES SOURCE:13 , 1.50
	TIMES SOURCE:14 , 1.50
ELSEIF TALENT:Ａ敏感
	TIMES SOURCE:6 , 0.60
	TIMES SOURCE:13 , 0.60
	TIMES SOURCE:14 , 0.60
ENDIF

;処女で貞操観念
IF EXP:Ｖ経験 == 0 && TALENT:貞操観念
	SOURCE:13 /= 3
ENDIF

EXP:Ａ経験 += 5
PRINTL Ａ経験＋５

IF EXP:Ａ拡張経験 == 0 
	EXP:異常経験 += 1
	PRINTL 異常経験＋１
ENDIF

EXP:Ａ拡張経験 += 1
PRINTL 拡張経験＋1

CALL TRAIN_MESSAGE_B

;拡張バルーンの着脱
IF TEQUIP:48
	TEQUIP:48 = 0
ELSE
	TEQUIP:48 = 1
ENDIF

RETURN 1

@TRAIN_MESSAGE_COM48
;拡張バルーンの着脱
IF TEQUIP:48
		PRINTFORML %CALLNAME:TARGET%の広がりきった菊穴からバルーンを抜いてやった…　
	IF ABL:Ａ感覚 == 0
		PRINTFORML %CALLNAME:TARGET%の肛門はゆっくりと閉じていった
	ELSEIF ABL:Ａ感覚 == 1
		PRINTFORML %CALLNAME:TARGET%の肛門はひくつきながらゆるゆると閉じていった
	ELSEIF ABL:Ａ感覚 == 2
		PRINTFORML %CALLNAME:TARGET%の肛門はぽっかり口を開いている
	ELSEIF ABL:Ａ感覚 == 3
		PRINTFORML %CALLNAME:TARGET%の肛門は拡がったままなかなか戻らないようだ
	ELSEIF ABL:Ａ感覚 == 4
		PRINTFORML %CALLNAME:TARGET%の肛門から腸の中が丸見えになっている。
	ELSEIF ABL:Ａ感覚 >= 5
		PRINTFORML %CALLNAME:TARGET%は、自分の肛門を指で拡げ、恍惚としている。
	ENDIF
ELSE
	PRINTFORML %CALLNAME:TARGET%の菊穴にエアバルーンを挿入し、空気を送り込んだ…
ENDIF

@EQUIP_COM48
;拡張バルーン

PRINTL ＜拡張バルーン挿入中＞

LOSEBASE:体力 += 50
LOSEBASE:気力 += 100

;ABL:Ａ感覚をみる
IF ABL:Ａ感覚 == 0
	A = 10
	B = 100
ELSEIF ABL:Ａ感覚 == 1
	A = 20
	B = 500
ELSEIF ABL:Ａ感覚 == 2
	A = 200
	B = 1000
ELSEIF ABL:Ａ感覚 == 3
	A = 400
	B = 2000
ELSEIF ABL:Ａ感覚 == 4
	A = 700
	B = 3000
ELSE
	A = 250 + (ABL:Ａ感覚 * 150)
	B = (ABL:Ａ感覚 * 1500) - 1500
ENDIF

;EXP:Ａ経験をみる
IF EXP:Ａ経験 < EXPLV:1
	TIMES A , 0.10
	C = 12000
ELSEIF EXP:Ａ経験 < EXPLV:2
	TIMES A , 0.30
	C = 6000
ELSEIF EXP:Ａ経験 < EXPLV:3
	TIMES A , 0.50
	C = 2000
ELSEIF EXP:Ａ経験 < EXPLV:4
	TIMES A , 1.00
	C = 1200
ELSEIF EXP:Ａ経験 < EXPLV:5
	TIMES A , 1.40
	C = 600
ELSE
	TIMES A , 1.60
	C = 200
ENDIF

;PALAM:欲情をみる
IF PALAM:5 < PALAMLV:1
	TIMES A , 0.60
	TIMES B , 0.60
ELSEIF PALAM:5 < PALAMLV:2
	TIMES A , 0.80
	TIMES B , 0.80
ELSEIF PALAM:5 < PALAMLV:3
	TIMES A , 1.00
	TIMES B , 1.00
ELSEIF PALAM:5 < PALAMLV:4
	TIMES A , 1.20
	TIMES B , 1.20
ELSEIF PALAM:5 >= PALAMLV:4
	TIMES A , 1.40
	TIMES B , 1.40
ENDIF

;小柄体形
SIF TALENT:小柄体型
	TIMES C , 2.00

;Ａ敏感、鈍感をみる
;快Ａ自体のチェックは後でまとめてやる
IF TALENT:Ａ鈍感
	TIMES B , 1.50
	TIMES C , 1.50
ELSEIF TALENT:Ａ敏感
	TIMES B , 0.60
	TIMES C , 0.60
ENDIF

SOURCE:14 += B

;処女で貞操観念
IF EXP:Ｖ経験 == 0 && TALENT:貞操観念
	B /= 3
ENDIF

SOURCE:2 += A
SOURCE:3 += A
SOURCE:13 += B
SOURCE:6 += C

EXP:Ａ経験 += 3
PRINTL Ａ経験＋３

EXP:Ａ拡張経験 += 1
PRINTL 拡張経験＋1

IF TALENT:オトコ == 0 && TALENT:PLAYER:オトコ == 0
	PRINTS EXPNAME:40
	PRINTL +1
	EXP:レズ経験 += 1
ELSEIF TALENT:オトコ == 1 && TALENT:PLAYER:オトコ == 1
	PRINTS EXPNAME:41
	PRINTL +1
	EXP:ＢＬ経験 += 1
ENDIF

RETURN 1

