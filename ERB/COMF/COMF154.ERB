@COM_ABLE154
;焼芋責め実行判定
;東方コマンドおかしいの多くね？
RETURN 0

;COM_ABLE共通判定
CALL COM_ABLE_COMMON, SELECTCOM
SIF RESULT == 0
	RETURN 0
;ウフフ中じゃないと無理
SIF TFLAG:44 == 0
	RETURN 0
;調教者が秋姉妹でないとダメ
SIF 1
	RETURN 0
;異常経験フィルタ
SIF ((FLAG:61 & 1) == 0) && (EXP:0 < EXPLV:1)
	RETURN 0
;触手調教中はダメ
SIF TEQUIP:90
	RETURN 0
;解除はいつでも可能
SIF TEQUIP:71
	RETURN 1
;体力が1000未満では装着不可能
SIF BASE:0 < 1000 && TEQUIP:71 == 0
	RETURN 0
;バイブ挿入中はダメ
SIF TEQUIP:11
	RETURN 0
;クスコ挿入中はダメ
SIF TEQUIP:61
	RETURN 0
;気力が０の時はダメ
SIF BASE:1 == 0
	RETURN 0
;Ｖ拡張経験少ないとダメ
SIF EXP:52 < 5
	RETURN 0
;オトコだとダメ
SIF TALENT:122
	RETURN 0
;調教対象が小人体型の場合は主人が禁断の知識持ちじゃないとダメ
SIF TALENT:149 && TALENT:MASTER:125 == 0
	RETURN 0
;処女で、従順4以下・レズっ気4以下のASSIの場合焼芋責めはできない（サドならＯＫ）
IF EXP:0 == 0 && ASSIPLAY
	SIF (ABL:ASSI:0 <= 4 || ABL:ASSI:9 <= 4) && TALENT:ASSI:83 == 0
		RETURN 0
ENDIF
;潤滑不足で、従順3以下・レズっ気3以下のASSIの場合焼芋責めはできない（サドならＯＫ）
IF PALAM:3 < PALAMLV:2 && ASSIPLAY
	SIF (ABL:ASSI:0 <= 3 || ABL:ASSI:9 <= 3) && TALENT:ASSI:83 == 0
		RETURN 0
ENDIF
RETURN 1

@COM154
;焼芋責め

PRINTL 焼芋責め
STR:0 = 焼芋責め


LOSEBASE:0 += 600
LOSEBASE:1 += 500

SOURCE:12 = 1000
SOURCE:13 = 1500
SOURCE:14 = 1800
SOURCE:16 = 800

;ABL:Ｖ感覚をみる
IF ABL:4 == 0
	SOURCE:1 = 2000
ELSEIF ABL:4 == 1
	SOURCE:1 = 2500
ELSEIF ABL:4 == 2
	SOURCE:1 = 3000
ELSEIF ABL:4 == 3
	SOURCE:1 = 3500
ELSEIF ABL:4 == 4
	SOURCE:1 = 4000
ELSE
	SOURCE:1 = 5000
ENDIF

;EXP:Ｖ経験をみる
IF EXP:0 < EXPLV:1
	TIMES SOURCE:1 , 0.20
	SOURCE:6 = 7000

	EXP:50 += 2
	PRINTFORML %EXPNAME:50%＋１
ELSEIF EXP:0 < EXPLV:2
	TIMES SOURCE:1 , 0.60
	SOURCE:6 = 3500
ELSEIF EXP:0 < EXPLV:3
	TIMES SOURCE:1 , 1.00
	SOURCE:6 = 1000
ELSEIF EXP:0 < EXPLV:4
	TIMES SOURCE:1 , 1.20
	SOURCE:6 = 250
ELSEIF EXP:0 < EXPLV:5
	TIMES SOURCE:1 , 1.40
	SOURCE:6 = 50
ELSE
	TIMES SOURCE:1 , 1.60
	SOURCE:6 = 0
ENDIF

;PALAM:潤滑をみる
IF PALAM:3 < PALAMLV:1
	TIMES SOURCE:1 , 0.10
	SOURCE:6 += 1000
	TIMES SOURCE:6 , 3.00
ELSEIF PALAM:3 < PALAMLV:2
	TIMES SOURCE:1 , 0.40
	SOURCE:6 += 400
	TIMES SOURCE:6 , 1.00
ELSEIF PALAM:3 < PALAMLV:3
	TIMES SOURCE:1 , 1.00
	TIMES SOURCE:6 , 0.50
ELSEIF PALAM:3 < PALAMLV:4
	TIMES SOURCE:1 , 1.40
	TIMES SOURCE:6 , 0.20
ELSEIF PALAM:3 >= PALAMLV:4
	TIMES SOURCE:1 , 1.80
	TIMES SOURCE:6 , 0.10
ENDIF

;PALAM:欲情をみる
IF PALAM:5 < PALAMLV:1
	TIMES SOURCE:1 , 0.80
ELSEIF PALAM:5 < PALAMLV:2
	TIMES SOURCE:1 , 0.90
ELSEIF PALAM:5 < PALAMLV:3
	TIMES SOURCE:1 , 1.00
ELSEIF PALAM:5 < PALAMLV:4
	TIMES SOURCE:1 , 1.10
ELSEIF PALAM:5 >= PALAMLV:4
	TIMES SOURCE:1 , 1.20
ENDIF

;ABL:従順をみる
IF ABL:0 == 0
	TIMES SOURCE:1 , 0.80
ELSEIF ABL:0 == 1
	TIMES SOURCE:1 , 0.90
ELSEIF ABL:0 == 2
	TIMES SOURCE:1 , 1.00
ELSEIF ABL:0 == 3
	TIMES SOURCE:1 , 1.10
ELSEIF ABL:0 == 4
	TIMES SOURCE:1 , 1.20
ELSE
	TIMES SOURCE:1 , 1.30
ENDIF

;小柄体型
SIF TALENT:100
	TIMES SOURCE:6 , 2.00

SIF TEQUIP:70 == 1
	TIMES SOURCE:1 , 1.80

EXP:0 += 3
EXP:52 += 4
PRINTL Ｖ経験＋３
PRINTL Ｖ拡張経験＋４

CALL TRAIN_MESSAGE_B

;焼き芋の着脱
IF TEQUIP:71
	TEQUIP:71 = 0
	TFLAG:73 += 5
ELSE
	TEQUIP:71 = 1
	TFLAG:73 += 10
ENDIF

RETURN 1

@TRAIN_MESSAGE_COM154
;焼き芋の着脱
IF TEQUIP:71
	PRINTFORML %CALLNAME:TARGET%の性器に突き刺さっているを大きな焼芋をゆっくりと引き抜いた。
	PRINTFORM %CALLNAME:TARGET%
	IF EXP:52 >= 100 && TALENT:76
		PRINT の開発させきった膣は、さらなる快楽を貪るかのように焼芋に絡みつい
	ELSEIF TALENT:85 && TALENT:76
		PRINT は、芋から生えているひげのような根が膣内のひだを撫でられる度、まるで痙攣するかのように四肢をはねさせ
	ELSEIF TALENT:85
		PRINTFORM は、荒い息をつきながらも%CALLNAME:PLAYER%と目が合うと満足げな表情を見せ
	ELSEIF TALENT:76
		PRINT は、芋がもたらす快感にだらしなく舌をたらして嬌声をあげ
	ELSEIF TALENT:40
		PRINT は、陰唇から巨大な質量を誇る物体が引きずり出される感覚に耐えきれず、聞くに堪えない絶叫をあげ
	ELSE
		PRINT は、抜かれた瞬間ほっとした表情を浮かべているものの、膣内の喪失感に対する違和感が拭えず困惑し
	ENDIF
	PRINTW ている…
ELSE
	PRINTFORM %CALLNAME:PLAYER%は%CALLNAME:TARGET%の
	SIF PALAM:3 >= PALAMLV:5
		PRINT 床に水溜まりができるほどの
	SIF PALAM:3 >= PALAMLV:3
		PRINT 愛液で溢れている
	IF TALENT:100
		PRINT 幼いワレメに
	ELSE
		PRINT 秘裂に
	ENDIF
	PRINTL 拳よりも大きな焼芋をあてがった…
	PRINTFORM %CALLNAME:TARGET%は
	IF TALENT:0 && TALENT:85 && TALENT:76
		PRINT 処女である事を疑いたくなるような淫靡な笑みを浮かべ、中に誘っているように腰を振っ
	ELSEIF TALENT:0 && TALENT:85
		PRINTFORM 目をまん丸に開いて%CALLNAME:PLAYER%の手にあるものを見つめたまま固まっ
	ELSEIF TALENT:0 && TALENT:76
		PRINT 処女である事もお構いなしに、自ら陰唇を大きく拡げて挿入されるのを待っ
	ELSEIF TALENT:0 && TALENT:27
		PRINT 目尻に涙を見せながら固く目を閉ざし、目の前の現実を否定するかのように首を左右に振っ
	ELSEIF TALENT:0 && TALENT:40
		PRINT 半狂乱になりながらこの責めからなんとか逃れようと懸命に抵抗し
	ELSEIF TALENT:0
		PRINT 顔面蒼白でこれから自分の性器に入れられる物体を見つめ
	ELSEIF TALENT:85 && TALENT:76
		PRINT 熱のこもった視線で“それ”を見つめ、自分から進んで膣口を大きく拡げている
	ELSEIF TALENT:85
		PRINTFORM 笑みを浮かべてはいるものの戸惑いの表情を隠しきれないまま%CALLNAME:PLAYER%を見
	ELSEIF TALENT:76
		PRINT 挿入される快感を限界まで引き出そうと膣を自分の指でかき回し、陰唇から愛液を滴らせ
	ELSEIF TALENT:40
		PRINT 涙を流しながら叫び声をあげ、手で今まさに自分の秘部に潜り込もうとするモノを払いのけようとし
	ELSE
		PRINTFORM 乾いた笑みを浮かべ、%CALLNAME:PLAYER%の手の中の芋を見つめ
	ENDIF
	PRINTW ている…
ENDIF

@EQUIP_COM154
;焼芋

PRINTL ＜焼芋挿入中＞

;V経験を伴うコマンドのフラグ(処女膜再生対応)
TFLAG:19 = 1

LOSEBASE:0 += 100
LOSEBASE:1 += 90

;ABL:Ｖ感覚をみる
IF ABL:4 == 0
	A = 40
ELSEIF ABL:4 == 1
	A = 120
ELSEIF ABL:4 == 2
	A = 360
ELSEIF ABL:4 == 3
	A = 600
ELSEIF ABL:4 == 4
	A = 900
ELSE
	A = 1300
ENDIF

;EXP:Ｖ経験をみる
;処女はありえない
IF EXP:0 < EXPLV:2
	TIMES A , 0.60
	B = 240
ELSEIF EXP:0 < EXPLV:3
	TIMES A , 1.00
	B = 120
ELSEIF EXP:0 < EXPLV:4
	TIMES A , 1.20
	B = 60
ELSEIF EXP:0 < EXPLV:5
	TIMES A , 1.40
	B = 30
ELSE
	TIMES A , 1.60
	B = 0
ENDIF

;PALAM:潤滑をみる
IF PALAM:3 < PALAMLV:1
	TIMES A , 0.10
	B += 400
	TIMES B , 3.00
	C += 1000
ELSEIF PALAM:3 < PALAMLV:2
	TIMES A , 0.40
	B += 150
	TIMES B , 1.00
	C += 200
ELSEIF PALAM:3 < PALAMLV:3
	TIMES A , 1.00
	TIMES B , 0.50
	C += 80
ELSEIF PALAM:3 < PALAMLV:4
	TIMES A , 1.40
	TIMES B , 0.20
ELSEIF PALAM:3 >= PALAMLV:4
	TIMES A , 1.80
	TIMES B , 0.10
ENDIF

;PALAM:欲情をみる
IF PALAM:5 < PALAMLV:1
	TIMES A , 0.80
ELSEIF PALAM:5 < PALAMLV:2
	TIMES A , 0.90
ELSEIF PALAM:5 < PALAMLV:3
	TIMES A , 1.00
ELSEIF PALAM:5 < PALAMLV:4
	TIMES A , 1.10
ELSEIF PALAM:5 >= PALAMLV:4
	TIMES A , 1.20
ENDIF

;ABL:従順をみる
IF ABL:0 == 0
	TIMES A , 0.80
ELSEIF ABL:0 == 1
	TIMES A , 0.90
ELSEIF ABL:0 == 2
	TIMES A , 1.00
ELSEIF ABL:0 == 3
	TIMES A , 1.10
ELSEIF ABL:0 == 4
	TIMES A , 1.20
ELSE
	TIMES A , 1.30
ENDIF


;小柄体型
SIF TALENT:100
	TIMES B , 2.00

;貞操観念
IF TALENT:30
	;処女はありえない
	TIMES B, 3.00
ENDIF

SOURCE:1 += A
SOURCE:6 += B

;自慰実行時は経験＋１
IF SELECTCOM == 3
	EXP:0 += 3
	EXP:52 += 3
	PRINTL Ｖ経験＋３
	PRINTL Ｖ拡張経験＋３
ELSE
	EXP:0 += 2
	EXP:52 += 2
	PRINTL Ｖ経験＋２
	PRINTL Ｖ拡張経験＋２
ENDIF

TFLAG:73 += 1

IF TALENT:122 == 0 && TALENT:PLAYER:122 == 0
	PRINTS EXPNAME:40
	PRINTL +1
	EXP:40 += 1
ELSEIF TALENT:122 == 1 && TALENT:PLAYER:122 == 1
	PRINTS EXPNAME:41
	PRINTL +1
	EXP:41 += 1
ENDIF

RETURN 1
