;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
;_/
;_/自慰中毒upの処理（アナル自慰対応バージョン）
;_/
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/

;-------------------------------------------------
;自慰中毒up本体
;-------------------------------------------------
@ABLUP10MAIN
DRAWLINE
;L系列用その１
IF ABL:自慰中毒 >= 9999
;IF ABL:自慰中毒 >= 5
	PRINTW 既にMAXです。
	RETURN 0
ENDIF

;能力アップ可能かを取得
;その際に能力アップに必要なコストを計算
CALL ISABLUP10

;ＬＶ２以降に上げるときは異常経験必要（素質：[自慰しやすい][中毒しやすい][淫乱化]なら無視できる）
IF H
	PRINTFORML %EXPNAME:50%{H}以上、かつ
ENDIF

;自慰経験または強制自慰経験必要
PRINTFORML %EXPNAME:10%{D}以上または%EXPNAME:11%{E}以上、かつ

;露出癖が必要
PRINTFORML %ABLNAME:7%{G:0}LV以上、かつ

PRINTFORM [0] - %PALAMNAME:5%の珠×{A}、%PALAMNAME:0%の珠×{B}、%PALAMNAME:8%の珠×{C}、%ABLNAME:3%{G:0}LV以上……

IF I == 0
	PRINT ＯＫ
ELSE
	SIF I & 1
		PRINT 珠不足 
	SIF I & 2
		PRINT 経験不足 
	SIF I & 4
		PRINT 能力不足 
ENDIF
PRINTL 

;以下快Ａの珠対応版追加
;Ａ感覚が必要
;Ｃ感覚よりは厳しめに、尻穴狂いがあればＣ感覚と同等
PRINTFORM [1] - %PALAMNAME:5%の珠×{A}、%PALAMNAME:2%の珠×{F}、%PALAMNAME:8%の珠×{C}、%ABLNAME:5%{G:1}LV以上……

IF J == 0
	PRINT ＯＫ
ELSE
	SIF J & 1
		PRINT 珠不足 
	SIF J & 2
		PRINT 経験不足 
	SIF J & 4
		PRINT 能力不足 
ENDIF
PRINTL 


;以下快Ｖの珠対応版追加
;Ｖ感覚が必要
;Ｃ感覚よりは厳しめに、淫壷があればＣ感覚と同等
PRINTFORM [2] - %PALAMNAME:5%の珠×{A}、%PALAMNAME:1%の珠×{R}、%PALAMNAME:8%の珠×{C}、%ABLNAME:4%{G:2}LV以上……

IF M == 0
	PRINT ＯＫ
ELSE
	SIF M & 1
		PRINT 珠不足 
	SIF M & 2
		PRINT 経験不足 
	SIF M & 4
		PRINT 能力不足 
ENDIF
PRINTL 

;以下快Ｂの珠対応版追加
;Ｂ感覚が必要
;Ｃ感覚よりは厳しめに、淫乳があればＣ感覚と同等
PRINTFORM [3] - %PALAMNAME:5%の珠×{A}、%PALAMNAME:14%の珠×{S}、%PALAMNAME:8%の珠×{C}、%ABLNAME:14%{G:3}LV以上……

IF P == 0
	PRINT ＯＫ
ELSE
	SIF P & 1
		PRINT 珠不足 
	SIF P & 2
		PRINT 経験不足 
	SIF P & 4
		PRINT 能力不足 
ENDIF
PRINTL 

PRINTFORM [20] - %PALAMNAME:5%、%PALAMNAME:0%、%PALAMNAME:8%の珠で限界まであげる……

IF I == 0
	PRINT ＯＫ
ELSE
	SIF I & 1
		PRINT 珠不足 
	SIF I & 2
		PRINT 経験不足 
	SIF I & 4
		PRINT 能力不足 
ENDIF
PRINTL 

PRINTFORM [21] - %PALAMNAME:5%、%PALAMNAME:2%、%PALAMNAME:8%の珠で限界まであげる……

IF J == 0
	PRINT ＯＫ
ELSE
	SIF J & 1
		PRINT 珠不足 
	SIF J & 2
		PRINT 経験不足 
	SIF J & 4
		PRINT 能力不足 
ENDIF
PRINTL 

;以下快Ｖの珠対応版追加
PRINTFORM [22] - %PALAMNAME:5%、%PALAMNAME:1%、%PALAMNAME:8%の珠で限界まであげる……

IF M == 0
	PRINT ＯＫ
ELSE
	SIF M & 1
		PRINT 珠不足 
	SIF M & 2
		PRINT 経験不足 
	SIF M & 4
		PRINT 能力不足 
ENDIF
PRINTL 

;以下快Ｂの珠対応版追加
PRINTFORM [23] - %PALAMNAME:5%、%PALAMNAME:14%、%PALAMNAME:8%の珠で限界まであげる……

IF P == 0
	PRINT ＯＫ
ELSE
	SIF P & 1
		PRINT 珠不足 
	SIF P & 2
		PRINT 経験不足 
	SIF P & 4
		PRINT 能力不足 
ENDIF
PRINTL 

PRINTL [100] - やめる

INPUT
IF (RESULT < 0 || RESULT > 3) && RESULT != 100 && (RESULT < 20 || RESULT > 23)
	RESTART
ELSEIF I != 0 && RESULT == 0
	PRINTL 条件を満たしていません。
	RESTART
ELSEIF J != 0 && RESULT == 1
	PRINTL 条件を満たしていません。
	RESTART
ELSEIF M != 0 && RESULT == 2
	PRINTL 条件を満たしていません。
	RESTART
ELSEIF P != 0 && RESULT == 3
	PRINTL 条件を満たしていません。
	RESTART
ELSEIF I != 0 && RESULT == 20
	PRINTL 条件を満たしていません。
	RESTART
ELSEIF J != 0 && RESULT == 21
	PRINTL 条件を満たしていません。
	RESTART
ELSEIF M != 0 && RESULT == 22
	PRINTL 条件を満たしていません。
	RESTART
ELSEIF P != 0 && RESULT == 23
	PRINTL 条件を満たしていません。
	RESTART
ELSEIF RESULT == 100
	RETURN 0
ENDIF

SIF RESULT < 20
	ABL:自慰中毒 += 1

IF RESULT == 0
	JUEL:欲情 -= A
	JUEL:快Ｃ -= B
	JUEL:恥情 -= C
ELSEIF RESULT == 1
	JUEL:欲情 -= A
	JUEL:快Ａ -= F
	JUEL:恥情 -= C
ELSEIF RESULT == 2
	JUEL:欲情 -= A
	JUEL:快Ｖ -= R
	JUEL:恥情 -= C
ELSEIF RESULT == 3
	JUEL:欲情 -= A
	JUEL:快Ｂ -= S
	JUEL:恥情 -= C
ELSEIF RESULT == 20
	CALL AUT_JII_0
ELSEIF RESULT == 21
	CALL AUT_JII_1
ELSEIF RESULT == 22
	CALL AUT_JII_2
ELSEIF RESULT == 23
	CALL AUT_JII_3
ENDIF

PRINTS ABLNAME:10
PRINT のレベルが
PRINTV ABL:自慰中毒
PRINTW になりました。



;-------------------------------------------------
;自慰中毒が上げられるかチェック
;-------------------------------------------------
@ISABLUP10
IF ABL:自慰中毒 >= 9999
	CALL ISABLUP_LIMIT
	RETURN 0
ENDIF
;能力アップに必要なコストを計算
CALL COSTABLUP10

;条件別にＯＫかダメかを記録する
I = 0
J = 0
M = 0
P = 0
;能力アップ可能なら1にする
Z = 0

;ＬＶ２以降に上げるときは異常経験必要（素質：[自慰しやすい][中毒しやすい][淫乱化]なら無視できる）
IF EXP:異常経験 < H
	;異常経験が不足
	I |= 2
	J |= 2
	M |= 2
	P |= 2
ENDIF

;露出癖が必要
IF ABL:露出癖 < ABL:自慰中毒 + 1
	I |= 4
	J |= 4
	M |= 4
	P |= 4
ENDIF

;Ｃ感覚が必要
IF ABL:Ｃ感覚 < G:0
	I |= 4
ENDIF

;欲情の珠で上げる
SIF JUEL:欲情 < A
	I |= 1
;快Ｃの珠で上げる
SIF JUEL:快Ｃ < B
	I |= 1
;恥情の珠で上げる
SIF JUEL:恥情 < C
	I |= 1
;自慰経験または強制自慰経験が必要
SIF EXP:自慰経験 < D && EXP:強制自慰経験 < E
	I |= 2

IF I == 0
	Z = 1
ENDIF

;Ａ感覚が必要
IF ABL:Ａ感覚 < G:1
	J |= 4
ENDIF

;欲情の珠で上げる
SIF JUEL:欲情 < A
	J |= 1
;快Ａの珠で上げる
SIF JUEL:快Ａ < F
	J |= 1
;恥情の珠で上げる
SIF JUEL:恥情 < C
	J |= 1
;自慰経験または強制自慰経験が必要
SIF EXP:自慰経験 < D && EXP:強制自慰経験 < E
	J |= 2

IF J == 0
	Z = 1
ENDIF

;Ｖ感覚が必要
IF ABL:Ｖ感覚 < G:2
	M |= 4
ENDIF

;欲情の珠で上げる
SIF JUEL:欲情 < A
	M |= 1
;快Ｖの珠で上げる
SIF JUEL:快Ｖ < R
	M |= 1
;恥情の珠で上げる
SIF JUEL:恥情 < C
	M |= 1
;自慰経験が必要
SIF EXP:自慰経験 < D
	M |= 2

IF M == 0
	Z = 1
ENDIF

;Ｂ感覚が必要
IF ABL:Ｂ感覚 < G:3
	P |= 4
ENDIF

;欲情の珠で上げる
SIF JUEL:欲情 < A
	P |= 1
;快Ｂの珠で上げる
SIF JUEL:快Ｂ < S
	P |= 1
;恥情の珠で上げる
SIF JUEL:恥情 < C
	P |= 1
;自慰経験が必要
SIF EXP:自慰経験 < D
	P |= 2

IF P == 0
	Z = 1
ENDIF

;可否の判定
IF Z == 0
	RETURN 0
ELSE
	RETURN 1
ENDIF



;-------------------------------------------------
;自慰中毒を上げるのに必要なコストを計算
;-------------------------------------------------
@COSTABLUP10
IF ABL:自慰中毒 == 0
	A = 3000
	B = 10000
	C = 1000
	D = 100
	E = 20
	F = 10000
	R = 10000
	S = 10000
ELSEIF ABL:自慰中毒 == 1
	A = 6000
	B = 25000
	C = 3000
	D = 250
	E = 40
	F = 25000
	R = 25000
	S = 25000
ELSEIF ABL:自慰中毒 == 2
	A = 12000
	B = 50000
	C = 6000
	D = 500
	E = 60
	F = 50000
	R = 50000
	S = 50000
ELSEIF ABL:自慰中毒 == 3
	A = 20000
	B = 100000
	C = 15000
	D = 1000
	E = 100
	F = 100000
	R = 100000
	S = 100000
	;一線越えない
	IF TALENT:一線越えない
		TIMES A , 2.00
		TIMES B , 2.00
		TIMES C , 2.00
		TIMES D , 2.00
		TIMES E , 2.00
		TIMES F , 2.00
		TIMES R , 2.00
		TIMES S , 2.00
	ENDIF
ELSEIF ABL:自慰中毒 == 4
	A = 40000
	B = 300000
	C = 40000
	D = 2000
	E = 160
	F = 300000
	R = 300000
	S = 300000
	;一線越えない
	IF TALENT:一線越えない
		TIMES A , 3.00
		TIMES B , 3.00
		TIMES C , 3.00
		TIMES D , 3.00
		TIMES E , 3.00
		TIMES F , 3.00
		TIMES R , 3.00
		TIMES S , 3.00
	ENDIF
;L系列用その２、ここから
ELSE
	A = 40000
	B = 300000
	C = 40000
	D = 2000
	E = 160
	F = 300000
	R = 300000
	S = 300000
	
	A = A * (ABL:自慰中毒 - 3)
	B = B * (ABL:自慰中毒 - 3)
	C = C * (ABL:自慰中毒 - 3)
	D = D * (ABL:自慰中毒 - 2) / 2
	E = E * (ABL:自慰中毒 - 2) / 2
	F = F * (ABL:自慰中毒 - 3)
	R = R * (ABL:自慰中毒 - 3)
	S = S * (ABL:自慰中毒 - 3)
	;一線越えない
	IF TALENT:一線越えない
		A = A * 3
		B = B * 3
		C = C * 3
		D = D * 3
		E = E * 3
		F = F * 3
		TIMES R , 3.00
		TIMES S , 3.00
	ENDIF
;L系列用その２、ここまで
ENDIF

;自慰しやすい
IF TALENT:自慰しやすい
	TIMES A , 0.25
	TIMES B , 0.25
	TIMES C , 0.25
	TIMES D , 0.25
	TIMES F , 0.25
	TIMES R , 0.25
	TIMES S , 0.25
ENDIF

;中毒しやすい
IF TALENT:中毒しやすい
	TIMES A , 0.50
	TIMES B , 0.50
	TIMES C , 0.50
	TIMES D , 0.50
	TIMES F , 0.50
	TIMES R , 0.50
	TIMES S , 0.50
ENDIF

;倒錯的
IF TALENT:倒錯的
	TIMES A , 0.75
	TIMES B , 0.75
	TIMES C , 0.75
	TIMES D , 0.75
	TIMES F , 0.75
	TIMES R , 0.75
	TIMES S , 0.75
ENDIF

;淫乱化
IF TALENT:淫乱
	TIMES A , 0.50
	TIMES B , 0.50
	TIMES C , 0.50
	TIMES D , 0.50
	TIMES F , 0.50
	TIMES R , 0.50
	TIMES S , 0.50
ENDIF

;淫核
SIF TALENT:淫核
	TIMES B , 0.50

;尻穴狂い
SIF TALENT:尻穴狂い
	TIMES F , 0.50

;淫壷
SIF TALENT:淫壷
	TIMES R , 0.50

;淫乳
SIF TALENT:淫乳
	TIMES S , 0.50


;ＬＶ２以降に上げるときは異常経験必要（素質：[自慰しやすい][中毒しやすい][淫乱化]なら無視できる）
IF ABL:自慰中毒 >= 2 && TALENT:自慰しやすい == 0 && TALENT:中毒しやすい == 0 && TALENT:淫乱 == 0
	H = ABL:自慰中毒 * 5
ELSE
	H = 0
ENDIF

;C/A感覚が必要
G:0 = ABL:自慰中毒 + 1
IF TALENT:尻穴狂い
	G:1 = ABL:自慰中毒 + 1
ELSE
	G:1 = ABL:自慰中毒 + 2
ENDIF

;Ｖ感覚の補正
IF TALENT:淫壷
	G:2 = ABL:自慰中毒 + 1
ELSE
	G:2 = ABL:自慰中毒 + 2
ENDIF

;Ｂ感覚の補正
IF TALENT:淫乳
	G:3 = ABL:自慰中毒 + 1
ELSE
	G:3 = ABL:自慰中毒 + 2
ENDIF


